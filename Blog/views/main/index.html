{% extends 'layout.html'%}
{%block content%}

{% for content in contents %}
<div class="listBox">
    <h1>{{content.title}}</h1>
    <p class="colDefault">
        作者：<span class="colInfo">{{content.user.username}}</span>
        时间：<span class="colInfo">{{content.addTime|date('y-m-d H:i:s',-60*8)}}</span>
        阅读：<span class="colInfo">{{content.views}}</span>
        评论：<span class="colInfo">{{content.comments.length}}</span>
    </p>
    <dfn><p>{{content.description}}</p></dfn>
    <div class="function"><a href="/view?contentid={{content.id}}">阅读全文</a></div>
</div>

{% endfor %}
<div class="pager">
    <ul>
        <li class="previous">
            {% if page <=1%}
            <a href="#"><span>没有上一页了</span></a>
            {%else%}
            <a href="/?category={{category}}&page={{page-1}}"><span>上一页</span></a>
            {%endif%}
        </li>

        <li>
            {% if pages > 0%}
            <strong><span>{{page}} / {{pages}}</span></strong>
            {%else%}
            <strong><span>无内容</span></strong>
            {%endif%}
        </li>



        <li class="next">
            {% if page >=pages%}
            <a href="#"><span>没有下一页了</span></a>
            {%else%}
            <a href="/?category={{category}}&page={{page+1}}"><span>下一页</span></a>
            {%endif%}
        </li>
    </ul>
</div>
{%endblock%}